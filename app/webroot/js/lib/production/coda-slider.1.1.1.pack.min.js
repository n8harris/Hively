/*
	jQuery Coda-Slider v1.1 - http://www.ndoherty.com/coda-slider
	
	Copyright (c) 2007 Niall Doherty
	
	Inspired by the clever folks at http://www.panic.com/coda
	Many thanks to Gian Carlo Mingati. Coda-Slider is a heavily modified version of his slideViewer, which can be found at  http://www.gcmingati.net/wordpress/wp-content/lab/jquery/imagestrip/imageslide-plugin.html
	
	Requirements:
	-  jQuery 1.2 ... available via  http://www.jquery.com
	-  jQuery easing plugin (1.2) ... available via  http://gsgd.co.uk/sandbox/jquery/easing/
	- jQuery easing compatability plugin ... available via  http://gsgd.co.uk/sandbox/jquery/easing/
	- CSS included in index.html
*/

jQuery(function(){jQuery("div.csw").prepend("<p class='loading'>Loading...<br /></p>")});var j=0;jQuery.fn.codaSlider=function(e){e=jQuery.extend({easeFunc:"expoinout",easeTime:750,toolTip:false},e);return this.each(function(){var t=jQuery(this);t.find("p.loading").remove();t.removeClass("csw").addClass("stripViewer");var n=t.find("div.panel").width();var r=t.find("div.panel").size();var i=n*r;t.find("div.panelContainer").css("width",i);var s=r*2;if(location.hash&&parseInt(location.hash.slice(1))<=r){var o=parseInt(location.hash.slice(1));var u=-(n*(o-1));jQuery(this).find("div.panelContainer").css({left:u})}else{var o=1}t.each(function(t){jQuery(this).before("<div class='stripNavL' id='stripNavL"+j+"'><a href='#'>Left</a></div>");jQuery(this).after("<div class='stripNavR' id='stripNavR"+j+"'><a href='#'>Right</a></div>");jQuery(this).before("<div class='stripNav' id='stripNav"+j+"'><ul></ul></div>");jQuery(this).find("div.panel").each(function(e){jQuery("div#stripNav"+j+" ul").append("<li class='tab"+(e+1)+"'><a href='#"+(e+1)+"'>"+jQuery(this).attr("title")+"</a></li>")});jQuery("div#stripNav"+j+" a").each(function(t){s+=jQuery(this).parent().width();jQuery(this).bind("click",function(){jQuery(this).addClass("current").parent().parent().find("a").not(jQuery(this)).removeClass("current");var r=-(n*t);o=t+1;jQuery(this).parent().parent().parent().next().find("div.panelContainer").animate({left:r},e.easeTime,e.easeFunc)})});jQuery("div#stripNavL"+j+" a").click(function(){if(o==1){var t=-(n*(r-1));o=r;jQuery(this).parent().parent().find("div.stripNav a.current").removeClass("current").parent().parent().find("li:last a").addClass("current")}else{o-=1;var t=-(n*(o-1));jQuery(this).parent().parent().find("div.stripNav a.current").removeClass("current").parent().prev().find("a").addClass("current")}jQuery(this).parent().parent().find("div.panelContainer").animate({left:t},e.easeTime,e.easeFunc);location.hash=o;return false});jQuery("div#stripNavR"+j+" a").click(function(){if(o==r){var t=0;o=1;jQuery(this).parent().parent().find("div.stripNav a.current").removeClass("current").parent().parent().find("a:eq(0)").addClass("current")}else{var t=-(n*o);o+=1;jQuery(this).parent().parent().find("div.stripNav a.current").removeClass("current").parent().next().find("a").addClass("current")}jQuery(this).parent().parent().find("div.panelContainer").animate({left:t},e.easeTime,e.easeFunc);location.hash=o;return false});jQuery("a.cross-link").click(function(){jQuery(this).parents().find(".stripNav ul li a:eq("+(parseInt(jQuery(this).attr("href").slice(1))-1)+")").trigger("click")});jQuery("div#stripNav"+j).css("width",s);if(location.hash&&parseInt(location.hash.slice(1))<=r){jQuery("div#stripNav"+j+" a:eq("+(location.hash.slice(1)-1)+")").addClass("current")}else{jQuery("div#stripNav"+j+" a:eq(0)").addClass("current")}});j++})}

